(function(s,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.MyLibrary={},s.axios,s.Vue))})(this,function(s,o,e){"use strict";const d=(t,r)=>{const i=t.__vccOpts||t;for(const[a,n]of r)i[a]=n;return i},h={name:"CountryList",data(){return{countries:[],displayedCountries:[],itemsPerPage:10,observer:null}},async mounted(){await this.fetchCountries(),this.displayedCountries=this.countries.slice(0,this.itemsPerPage),this.initIntersectionObserver()},methods:{async fetchCountries(){try{const t=await o.get("https://restcountries.com/v3.1/all");this.countries=t.data}catch(t){console.error("Error fetching countries:",t)}},initIntersectionObserver(){this.observer=new IntersectionObserver(this.loadMore,{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.$refs.loadMoreTrigger)},loadMore(t){if(t[0].isIntersecting){const r=this.countries.slice(this.displayedCountries.length,this.displayedCountries.length+this.itemsPerPage);this.displayedCountries=[...this.displayedCountries,...r]}}},beforeDestroy(){this.observer&&this.observer.disconnect()}},u=t=>(e.pushScopeId("data-v-25fd2888"),t=t(),e.popScopeId(),t),p={class:"country-list"},f=u(()=>e.createElementVNode("h2",null,"Countries",-1)),m=["src"],_={ref:"loadMoreTrigger",class:"load-more-trigger"};function g(t,r,i,a,n,C){return e.openBlock(),e.createElementBlock("div",p,[f,e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.displayedCountries,c=>(e.openBlock(),e.createElementBlock("li",{key:c.cca3},[e.createElementVNode("img",{src:c.flags[0],alt:"Flag",class:"flag"},null,8,m),e.createTextVNode(" "+e.toDisplayString(c.name.common),1)]))),128))]),e.createElementVNode("div",_,null,512)])}const l=d(h,[["render",g],["__scopeId","data-v-25fd2888"]]),y={CountryList:l};s.CountryList=l,s.default=y,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
